(this.webpackJsonpelfsight=this.webpackJsonpelfsight||[]).push([[0],{48:function(t,e,n){},49:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n(0),a=n(14),r=n.n(a),o=n(10),i=n(15),l=n(22),u={photos:{}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PHOTOS":return Object(l.a)(Object(l.a)({},t),{},{photos:e.photos});default:return t}},h=(n(47),n(48),n(11)),d=n(3),b=(n(49),n(19)),O=n.n(b),p=n(34),f=n(13),m=n(35),x=n.n(m),v=function(t){return{addPhotos:function(e){return t({type:"ADD_PHOTOS",photos:e})}}},_=(n(69),n(70),function(){return Object(c.jsx)("div",{className:"loader"})}),g=function(t){var e=t.dispatch,n=Object(s.useState)(null),a=Object(f.a)(n,2),r=a[0],o=a[1],i=Object(s.useState)(!1),l=Object(f.a)(i,2),u=l[0],j=l[1],b=Object(d.e)();return Object(s.useEffect)(Object(p.a)(O.a.mark((function t(){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b.pathname.includes("albums")?j(!0):j(!1),t.prev=1,n="/"===b.pathname?"/users":b.pathname,t.next=5,x.a.get("".concat("https://jsonplaceholder.typicode.com").concat(n));case 5:c=t.sent,b.pathname.includes("photos")?v(e).addPhotos(c.data):o(c.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),[b]),Object(c.jsx)("nav",{className:"menu",children:r?Object(c.jsx)("div",{className:"menu__list",children:Object(c.jsx)("ul",{children:r?r.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)(h.b,{activeClassName:"menu__link_active",className:"menu__link",to:u?"/albums/".concat(t.id,"/photos"):"/users/".concat(t.id,"/albums"),children:t.name||t.title}),Object(c.jsx)("hr",{})]},t.id)})):null})}):Object(c.jsx)(_,{})})};g.defaultProps={dispatch:function(){}};var y=Object(o.b)()(g),N=(n(74),function(t){var e=t.photos,n=t.dispatch,a=Object(s.useState)(!1),r=Object(f.a)(a,2),o=r[0],i=r[1];return Object(s.useEffect)((function(){return function(){v(n).addPhotos([])}}),[]),Object(s.useEffect)((function(){i(!1)}),[e]),Object(c.jsxs)("div",{className:"gallery",children:[o?null:Object(c.jsx)(_,{}),Object(c.jsx)("ul",{className:"gallery__list ".concat(o?null:"gallery__list_empty"),children:e.length>0?e.map((function(t,n){return Object(c.jsx)("li",{children:Object(c.jsx)("div",{className:"gallery__photo",children:Object(c.jsx)("img",{onLoad:function(){return n===e.length-1?i(!0):null},src:t.thumbnailUrl,alt:t.id})})},t.id)})):null})]})});N.defaultProps={photos:[],dispatch:function(){}};var P=Object(o.b)((function(t){return{photos:t.photos}}))(N),k=function(){return Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)(y,{}),Object(c.jsx)(d.a,{path:"/albums/:id/photos",children:Object(c.jsx)(P,{})})]})},w=function(){return Object(c.jsx)(h.a,{children:Object(c.jsx)(d.a,{path:"/",children:Object(c.jsx)(k,{})})})},S=Object(i.b)(j);r.a.render(Object(c.jsx)(o.a,{store:S,children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.9ac50302.chunk.js.map